# API 관련 FE, BE 회의록
- 회의 일시: 2025-06-03 20:00
- 회의 장소: 온라인

## API 설계 관련 회의록
Q: 폴리곤 url session 다 보여주고 있는 형태 ... 이렇게 갈 것인가?
A: 지금 폴리곤대로는 안 하면 좋을 것 같다. 

### 로그인
- LOGIN API
	- POST가 나을 듯합니다
		- id, pw hash
		- hash 알고리즘: 좀 더 알아보고 정리

- 폴리곤: id 로그인, email 로그인 가능
- 코덕: 둘 다 가능하게 하는 게 좋을 듯? 
	- @ 필터 ... 프론트, 백엔드 둘 다 처리

- SSO 지원: 언젠가 하게 될 것인가? 고려 안 하는 걸로

- 아이디 찾기
	- 등록한 email 받아서 이메일로 아이디 보내주기
	- 필요 API
		- email 주소가 포함된 GET, POST 메소드?

- 비밀번호 리셋
	- 방식 어떻게?
    - 이메일로 변경할 수 있는 uuid 이런 걸로 만들어서 식별해서 사이트 쪽으로
    리다이렉트하도록 하는 게 좋지 않을까?
        - 비밀번호 리셋 요청 -> f에서 b로 요청 보냄 -> b에서 메일 발송 ->
        메일에서 url 접속할 때에만 프론트에서만 접속 ... (b에서 안 만들고)

    - 필요 API
        - password reset 요청
        - 메일 들어왔을 때 uuid 접속할 수 있는 uuid 값을 fe에서 be로 확인하는
        api
        - reset 때리는 api

### 회원가입
- 회원가입 때 받을 정보
    - 이름, email, id, pw
    - 프로필 사진? 필요하면 사진 업로드 해야 할 수도 있음
    - 회원가입 로직이 복잡하면 사용자가 피로해질 수 있음.
    - 개인정보 동의, 홍보 수신 동의 등 ... boolean 추가로 들어갈 수 있음
    - 회원가입 시 이메일 인증
        - 회원가입 요청을 하기 까지는 이메일 인증 필요 없고
        - 이메일 인증을 해야 기능 사용할 수 있도록?

        - 이미 가입한 이메일 ... 인증 완료하지 않았다 이런 식으로 뜨는 경우도
        있었어서... 
        - 인증이 안 되면 데이터베이스 등록이 안 되도록 하는 것이 좋을 것 같다.


- 선택정보는 나중에 수정하거나 추가할 수 있도록
    - 예: 프로필 사진 등

### 회원탈퇴

- 논리적 삭제로 놔둬야 하는가?
	- 그러면 해당 아이디로 재가입은 불가한가?
	- 사용자 삭제된 경우 삭제시 __deleted 놔두고 ...
	- 다른사람에게 모든 문제 이전을 시키고 탈퇴하도록?
	- 깃허브는 ghost 유저 아이디에다가 몰아넣음
		- delete 삭제된 회원의 정보가 몰림

- 물리적 삭제
	- 회원 id, 문제 연관관계 맺혀있는 게 많이 있을텐데 그러면 삭제할 때 연관관계 끊어지거나 하는 옵션 설정을 바꿔줬어야 했던 거 같아서
	- Deleted boolean 값 유저 테이블에 하나 넣고 중복 확인할 때는 deleted 확인하면서 
	- 탈퇴한 회원 아이디로는 ...
	- user_id 겹치면 어떻게 할지...

- 탈퇴는 나중에 논의하는 걸로?

### 기타
- id, email 변경 가능? 
	- 추후 정하는 걸로
- email 개수
	- github처럼 secondary 넣을 건지?
		- 있으면 편함
		- 없어도 문제는 없을 거 같기는 해요
		- 해킹?
	- Q: 이메일 회원가입할 때만 하는 거 아님? 로그인도 한대요
    - 복잡해질 거 같은데 하나만 받자
    - BE: 백엔드 회의 때 이야기는 해보겠습니다.

